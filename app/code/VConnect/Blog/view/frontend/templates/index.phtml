<?php
/**
 * @var Magento\Framework\View\Element\Template $block
 * @var VConnect\Blog\ViewModel\Posts $viewModel
 */
$viewModel = $block->getData('view_model');
?>

<table>
    <tr>
        <th>Id</th>
        <th>title</th>
        <th>content</th>
        <th>announce</th>
        <th>publish_date</th>
        <th>is_published</th>
        <th>created_at</th>
        <th>updated_at</th>
    </tr>

    <?php foreach ($viewModel->getPosts() as $post): ?>
        <?php /** @var VConnect\Blog\Model\Post $post */ ?>
        <tr>
            <td><?= $post->getPostId() ?></td>
            <td><?= $post->getTitle() ?></td>
            <td><?= $post->getContent() ?></td>
            <td><?= $post->getAnnounce() ?></td>
            <td><?= $post->getPublishDate() ?></td>
            <td><?= $post->getPostStatus() ?></td>
            <td><?= $post->getCreatedTime() ?></td>
            <td><?= $post->getUpdatedTime() ?></td>
        </tr>
    <?php endforeach; ?>
</table>

<form action="<?= $block->getUrl('blog/post/delete') ?>" method="post">
    <label>Choose post id which you want delete</label>
    <select name="post_id">
        <?php foreach ($viewModel->getPosts() as $post): ?>
            <?php /** @var VConnect\Blog\Model\Post $post */ ?>
            <option value="<?= $post->getPostId() ?>"> <?= $post->getPostId() ?> </option>
        <?php endforeach; ?>
    </select>
    <button type="submit">Delete</button>
</form>
